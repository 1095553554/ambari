<!--
* Licensed to the Apache Software Foundation (ASF) under one
* or more contributor license agreements.  See the NOTICE file
* distributed with this work for additional information
* regarding copyright ownership.  The ASF licenses this file
* to you under the Apache License, Version 2.0 (the
* "License"); you may not use this file except in compliance
* with the License.  You may obtain a copy of the License at
*
*     http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
-->

<h2>{{t installer.step3.header}}</h2>
<p class="alert alert-info">{{t installer.step3.body}}</p>
<div class="box">
  <div class="box-header">
    <div class="button-section">
      <a class="btn btn-primary decommission" {{bindAttr disabled="isSubmitDisabled"}}
         href="#" {{action retry target="controller"}}><i
        class="icon-repeat icon-white"></i>
        Retry
      </a>
      <a class="btn btn-primary" {{bindAttr disabled="isSubmitDisabled"}}
         href="#" {{action removeBtn target="controller" }}><i
        class="icon-trash icon-white"></i>
        Remove
      </a>
      <a class="btn btn-info"
         href="#" {{action mockBtn target="controller" }}>
        Mock Data
      </a>

      <div class="dropdown pull-right">
        {{view Ember.Select class="pull-right"
       contentBinding="controller.categories"
       selectionBinding="controller.category"
       }}
        <h5 class="pull-right text-info">Filter By: &nbsp</h5>
      </div>

    </div>
  </div>


  <table class="table table-bordered table-striped">
    <thead>
    <tr>
      <th>
        {{view Ember.Checkbox checkedBinding="allChecked"}}
        {{controller.category}}
      </th>
      <th>Status</th>
      <!--  given by the parsing function that parses data from bootstrap call -->
      <th>Host</th>
      <!-- retrieved from local storage initially -->
      <th>Message</th>
      <!-- given by the parsing function that parses data from bootstrap call, dynamically assign the color -->
      <th>Delete</th>
      <!-- trash icon -->
    </tr>
    </thead>

    <tbody>

    {{#each host in controller}}
    {{#view App.HostView categoryBinding="controller.category" hostInfoBinding="host"}}
    {{#if view.isVisible}}
    <tr {{bindAttr class = "host.status"}}>
      <td>
        {{view Ember.Checkbox checkedBinding="host.isChecked"}}
      </td>
      <td>
        {{host.status}}
      </td>

      <td>
        {{host.name}}
      </td>
      <td>
        <a  href="javascript:void(null)" data-toggle="modal" {{action "hostLogPopup" target="controller"}}>{{host.message}}</a>
      </td>
      <td>
        <a href="javascript:void(null)" {{action removeItem target="view"}}><i
          class="icon-trash"></i></a>
      </td>
    </tr>
    {{/if}}
    {{/view}}
    {{/each}}

    </tbody>

  </table>
  <div class="box-footer">
    <hr/>
    <div class="footer-pagination">
    </div>
  </div>
</div>
<div class="btn-area">
  <a class="btn pull-left" {{bindAttr disabled="isSubmitDisabled"}} {{action back}}>&larr; Previous</a>
  <a class="btn btn-success pull-right" {{bindAttr disabled="isSubmitDisabled"}} {{action submit target="controller"}}>Next &rarr;</a>
</div>
