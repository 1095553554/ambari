{{!
* Licensed to the Apache Software Foundation (ASF) under one
* or more contributor license agreements.  See the NOTICE file
* distributed with this work for additional information
* regarding copyright ownership.  The ASF licenses this file
* to you under the Apache License, Version 2.0 (the
* "License"); you may not use this file except in compliance
* with the License.  You may obtain a copy of the License at
*
*     http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
}}

<div id="create-edit-alert-notification">

  <form class="form-horizontal">

    <div class="control-group">
      <label class="control-label" for="inputName">{{controller.inputFields.name.label}}</label>

      <div class="controls">
        {{view Em.TextField valueBinding="controller.inputFields.name.value" id="inputName" class="input-xlarge"}}
      </div>
    </div>

    <div class="control-group">
      <label class="control-label" for="inputGroups">{{controller.inputFields.groups.label}}</label>

      <div class="controls">
        {{view view.groupsSelectView multiple="true" id="inputGroups" class="input-large"
          selectionBinding="controller.inputFields.groups.value"
          contentBinding="controller.allAlertGroups"
          optionLabelPath="content.name"
        }}
        <a href="#" {{action selectAllGroups target="view"}}>{{t alerts.actions.manage_alert_notifications_popup.selectAll}}</a> |
        <a href="#" {{action clearAllGroups target="view"}}>{{t alerts.actions.manage_alert_notifications_popup.clearAll}}</a>
      </div>
    </div>

    <div class="control-group">
      <label class="control-label" for="inputGlobal">{{controller.inputFields.global.label}}</label>

      <div class="controls">
        {{view Em.Checkbox checkedBinding="controller.inputFields.global.value" disabledBinding="controller.inputFields.global.disabled" id="inputGlobal" class="input-xlarge"}}
      </div>
    </div>

    <div class="control-group">
      <label class="control-label">{{controller.inputFields.severityFilter.label}}</label>

      <div class="controls">
        {{view view.severitySelectView multiple="true" id="inputSeverity" class="input-large"
        selectionBinding="controller.inputFields.severityFilter.value"
        contentBinding="controller.severities"
        }}
        <a href="#" {{action selectAllSeverity target="view"}}>{{t alerts.actions.manage_alert_notifications_popup.selectAll}}</a> |
        <a href="#" {{action clearAllSeverity target="view"}}>{{t alerts.actions.manage_alert_notifications_popup.clearAll}}</a>
      </div>
    </div>

    <div class="control-group">
      <label class="control-label" for="inputDescription">{{controller.inputFields.description.label}}</label>

      <div class="controls">
        {{view Em.TextArea valueBinding="controller.inputFields.description.value" id="inputDescription" rows="4" class="input-xlarge"}}
      </div>
    </div>

    <div class="control-group">
      <label class="control-label" for="inputMethod">{{controller.inputFields.method.label}}</label>

      <div class="controls">
        {{view Em.Select contentBinding="controller.methods" selectionBinding="controller.inputFields.method.value" id="inputMethod" class="input-xlarge"}}
      </div>
    </div>

    {{#if view.isEmailMethodSelected}}
      <div class="control-group">
        <label class="control-label" for="inputEmail">{{controller.inputFields.email.label}}</label>

        <div class="controls">
          {{view Em.TextField valueBinding="controller.inputFields.email.value" id="inputEmail" class="input-xlarge"}}
        </div>
      </div>
    {{/if}}

    {{#each customProperty in controller.inputFields.customProperties}}
      <div class="control-group">
        <label class="control-label" for="inputGroups">{{customProperty.name}}</label>

        <div class="controls">
          {{view Em.TextField valueBinding="customProperty.value" class="input-xlarge"}}
          <a href="#" {{action "removeCustomPropertyHandler" customProperty target="controller"}} class="btn btn-small"><span class="icon-minus-sign"></span></a>
        </div>
      </div>
    {{/each}}

    <a href="#" {{action addCustomPropertyHandler target="controller"}}>{{t installer.step7.config.addProperty}} ...</a>

  </form>
</div>
